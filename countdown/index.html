<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Countdown to Goals and Important Days</title>
    <script src="https://kit.fontawesome.com/9d89c78646.js" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="countdown.css">

</head>

<body>
    <div class="container">
        <div class="" id="title-box">
            <h1>Goals and Important Dates: <i class="fa-regular fa-calendar-days fa-xl"></i></h1>
        </div>


        <div id="goalListContainer">

        </div>
    </div>



    <script>
        let dateNow = new Date();
        const FULLDAY = (24 * 60 * 60 * 1000);

        const myGoals =
            [
                {
                    "title": "new year 2024",
                    "subtitle": "bring it in",
                    "date": "2024-12-31"
                },
                {
                    "title": "My 48th Birthday",
                    "subtitle": "Almost 50 Years Old",
                    "date": "2024-12-13"
                },
                {
                    "title": "Idea Week Fall 2024",
                    "subtitle": "A full week of hacking on something fun for work",
                    "date": "2024-10-07"
                },
                {
                    "title": "11th Anniversary at Ride with GPS",
                    "subtitle": "Another Year Another Dolla Dolla",
                    "date": "2025-08-14"
                },
                {
                    "title": "Global Game Jam 2025",
                    "subtitle": "Program a small but original game in just a few days. More information at GlobalGameJam.org",
                    "date": "2025-01-20"
                }
            ];


        function calculateDays(specialDate, currentDate) {
            convertedDate = new Date(specialDate);
            days = Math.ceil((convertedDate - currentDate) / (24 * 60 * 60 * 1000));
            //console.log("Ceiling " + Math.ceil((specialDate - currentDate) / FULLDAY));
            return days;
        }

        function elementFromHTML(html) {
            const template = document.createElement('template');
            template.innerHTML = html.trim();
            return template.content.firstElementChild;
        };



        const goalList = document.getElementById("goalListContainer")
        for (const item of myGoals) {
            const goalCard = elementFromHTML(`
                    <div class="contentcard">
                        <h3>${item.date}</h3>
                    <h2>${item.title}</h2>
                    <p>${item.subtitle}</p>
                    <span>${calculateDays(item.date, dateNow)} days
                    </div>
                    `)

            goalList.insertAdjacentElement('beforeend', goalCard);
        }

    </script>


</body>

</html>